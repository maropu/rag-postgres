<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>F.6. basic_archive</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="prev" href="basebackup-to-shell.html" title="F.5. basebackup_to_shell" /><link rel="next" href="bloom.html" title="F.7. bloom" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /><style type="text/css"><!--
h1.TITLE {clear:both;}
.versions {
  float:right;
  margin-top:-0.2em;
  margin-bottom:0.5em;
  width: auto;
  padding:0.4em 1em;
  border:solid 1px #e0e0e0;
  border-radius:0.5em;
  background:#f3f3f3;
  background-image:-webkit-linear-gradient(#fbfbfb, #ebebeb);
  background-image:-moz-linear-gradient(#fbfbfb, #ebebeb);
  background-image:-o-linear-gradient(#fbfbfb, #ebebeb);
  background-image:linear-gradient(#fbfbfb, #ebebeb);
  box-shadow:0 3px 8px -3px #000;
}
.versions .label {
  cursor:pointer;
}
.versions .label:hover {
  text-decoration:underline;
}
.versions .list {
  display:none;
}
.versions .list-toggle {
  display:inline;
}
.versions .me {
  padding:0 0.2em;
  border:solid 2px #e88;
  border-radius:0.3em;
  background:#fbfbfb;
  font-weight:bold;
}
.versions .other {
  font-weight:bold;
}
.versions .unsup {
  color:#aaa;
}
.versions .unsup a {
  color:#aaa;
}

@media print {
  a {
    color: inherit;
    text-decoration: none;
  }
  a:visited {
    color: inherit;
  }
  .NAVHEADER, .versions, .NAVFOOTER {
    display: none;
  }
}
--></style><script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript"><!--
  $(function(){
      $(".versions .label").bind("click", function(){
          $(".versions .list").toggleClass("list-toggle");
      })
  });
--></script></head><body id="docContent" class="container-fluid col-10"><div class="versions"><span class="label">他のバージョンの文書</span> <span class="list">： <span class="me">15</span> | <span class="unsup"><a href="/document/14/index.html">14</a></span> | <span class="unsup"><a href="/document/13/index.html">13</a></span> | <span class="unsup"><a href="/document/12/index.html">12</a></span> | <span class="unsup"><a href="/document/11/index.html">11</a></span> | <span class="unsup"><a href="/document/10/index.html">10</a></span> | <span class="unsup"><a href="/document/9.6/index.html">9.6</a></span> | <span class="unsup"><a href="/document/9.5/index.html">9.5</a></span> | <span class="unsup"><a href="/document/9.4/index.html">9.4</a></span> | <span class="unsup"><a href="/document/9.3/index.html">9.3</a></span> | <span class="unsup"><a href="/document/9.2/index.html">9.2</a></span> | <span class="unsup"><a href="/document/9.1/index.html">9.1</a></span> | <span class="unsup"><a href="/document/9.0/index.html">9.0</a></span> | <span class="unsup"><a href="/document/8.4/index.html">8.4</a></span> | <span class="unsup"><a href="/document/8.3/index.html">8.3</a></span> | <span class="unsup"><a href="/document/8.2/index.html">8.2</a></span> | <span class="unsup"><a href="/document/8.1/index.html">8.1</a></span> | <span class="unsup"><a href="/document/8.0/index.html">8.0</a></span> | <span class="unsup"><a href="/document/7.4/index.html">7.4</a></span> | <span class="unsup"><a href="/document/7.3/index.html">7.3</a></span> | <span class="unsup"><a href="/document/7.2/index.html">7.2</a></span></span></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 15.4文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="contrib.html" title="付録F 追加で提供されるモジュール">付録F 追加で提供されるモジュール</a></td><td width="20%" align="right"></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="basebackup-to-shell.html" title="F.5. basebackup_to_shell">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="contrib.html" title="付録F 追加で提供されるモジュール">上へ</a></td><td width="60%" align="center">F.6. basic_archive</td><td width="20%" align="right"> <a accesskey="n" href="bloom.html" title="F.7. bloom">次へ</a></td></tr></table><hr /></div><div class="sect1" id="BASIC-ARCHIVE"><div class="titlepage"><div><div><h2 class="title" style="clear: both">F.6. basic_archive</h2></div></div></div><a id="id-1.11.7.15.2" class="indexterm"></a><p>
<!--
  <filename>basic_archive</filename> is an example of an archive module.  This
  module copies completed WAL segment files to the specified directory.  This
  may not be especially useful, but it can serve as a starting point for
  developing your own archive module.  For more information about archive
  modules, see <xref linkend="archive-modules"/>.
-->
<code class="filename">basic_archive</code>はアーカイブモジュールの例です。
このモジュールは、完成したWALセグメントファイルを指定されたディレクトリにコピーします。
これは特に有用ではありませんが、独自のアーカイブモジュールを開発するための出発点として役立ちます。
アーカイブモジュールの詳細は<a class="xref" href="archive-modules.html" title="第51章 アーカイブモジュール">第51章</a>を参照してください。
 </p><p>
<!--
  In order to function, this module must be loaded via
  <xref linkend="guc-archive-library"/>, and <xref linkend="guc-archive-mode"/>
  must be enabled.
-->
機能するには、このモジュールを<a class="xref" href="runtime-config-wal.html#GUC-ARCHIVE-LIBRARY">archive_library</a>経由でロードし、<a class="xref" href="runtime-config-wal.html#GUC-ARCHIVE-MODE">archive_mode</a>を有効にする必要があります。
 </p><div class="sect2" id="id-1.11.7.15.5"><div class="titlepage"><div><div><h3 class="title">F.6.1. 設定パラメータ</h3></div></div></div><!--
  <title>Configuration Parameters</title>
--><div class="variablelist"><dl class="variablelist"><dt><span class="term">
     <code class="varname">basic_archive.archive_directory</code> (<code class="type">string</code>)
     <a id="id-1.11.7.15.5.2.1.1.3" class="indexterm"></a>
     <a id="id-1.11.7.15.5.2.1.1.4" class="indexterm"></a>
    </span></dt><dd><p>
<!--
      The directory where the server should copy WAL segment files.  This
      directory must already exist.  The default is an empty string, which
      effectively halts WAL archiving, but if <xref linkend="guc-archive-mode"/>
      is enabled, the server will accumulate WAL segment files in the
      expectation that a value will soon be provided.
-->
サーバがWALセグメントファイルをコピーするディレクトリです。
このディレクトリは既に存在している必要があります。
デフォルトは空文字列で、事実上WALアーカイブを停止します。
しかし<a class="xref" href="runtime-config-wal.html#GUC-ARCHIVE-MODE">archive_mode</a>が有効になっている場合、サーバはこの値が間もなく提供されることを期待してWALセグメントファイルを蓄積します。
     </p></dd></dl></div><p>
<!--
   These parameters must be set in <filename>postgresql.conf</filename>.
   Typical usage might be:
-->
これらのパラメータは<code class="filename">postgresql.conf</code>の中で設定しなければなりません。
 典型的な使用方法は以下のようになります。
  </p><pre class="programlisting">
# postgresql.conf
archive_mode = 'on'
archive_library = 'basic_archive'
basic_archive.archive_directory = '/path/to/archive/directory'
</pre></div><div class="sect2" id="id-1.11.7.15.6"><div class="titlepage"><div><div><h3 class="title">F.6.2. 注釈</h3></div></div></div><!--
  <title>Notes</title>
--><p>
<!--
   Server crashes may leave temporary files with the prefix
   <filename>archtemp</filename> in the archive directory.  It is recommended to
   delete such files before restarting the server after a crash.  It is safe to
   remove such files while the server is running as long as they are unrelated
   to any archiving still in progress, but users should use extra caution when
   doing so.
-->
サーバーがクラッシュすると、アーカイブ・ディレクトリに接頭辞<code class="filename">archtemp</code>を持つ一時ファイルが残る場合があります。
クラッシュ後にサーバーを再起動する前に、このようなファイルを削除することをお薦めします。
このようなファイルは、進行中のアーカイブと無関係であれば、サーバーの実行中に削除しても安全ですが、その際には十分な注意が必要です。
  </p></div><div class="sect2" id="id-1.11.7.15.7"><div class="titlepage"><div><div><h3 class="title">F.6.3. 作者</h3></div></div></div><!--
  <title>Author</title>
--><p>
   Nathan Bossart
  </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="basebackup-to-shell.html" title="F.5. basebackup_to_shell">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="contrib.html" title="付録F 追加で提供されるモジュール">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="bloom.html" title="F.7. bloom">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">F.5. basebackup_to_shell </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 15.4文書">ホーム</a></td><td width="40%" align="right" valign="top"> F.7. bloom</td></tr></table></div></body></html>